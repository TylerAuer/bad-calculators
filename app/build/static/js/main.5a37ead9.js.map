{"version":3,"file":"static/js/main.5a37ead9.js","mappings":"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","sources":["structs/user.ts","state/user.ts","structs/request.ts","state/ui.ts","functions/saveProgressToServer.ts","UserSignInMonitor/index.tsx","hooks/useCheckForUser.ts","state/puzzle.ts","functions/trackSuccess.ts","Header/AccountModal.tsx","Header/UserAccount.tsx","Header/index.tsx","structs/track.ts","state/track.ts","functions/logGAPageView.ts","PuzzlePage/Goals.tsx","PuzzlePage/ResolveModal.tsx","PuzzlePage/Screen.tsx","PuzzlePage/Meta.tsx","PuzzlePage/CalcBtn.tsx","structs/puzzle.ts","calculatorFunctions/genOpBtnTextAndOp.ts","PuzzlePage/OpBtn.tsx","functions/mergeProgress.ts","PuzzlePage/CalcFunctions.tsx","Spinner/index.tsx","PuzzlePage/MoveCount.tsx","PuzzlePage/Difficulty.tsx","PuzzlePage/LevelAndPuzzle.tsx","PuzzlePage/index.tsx","hooks/useLoadPuzzle.ts","functions/trackAttempt.ts","LandingPage/index.tsx","state/level.ts","LevelsPage/index.tsx","PrivacyPage/index.tsx","App.tsx","index.tsx"],"sourcesContent":["// Index 0 refers to the first goal, index 1 to the second goal...etc.\nexport type PuzProgress = (boolean | null)[];\n\nexport enum SignInStatus {\n  // When the app initially loads and awaiting response from backend if user has\n  // session and an account\n  'CHECKING_FOR_SESSION',\n  // After checking the server, no session or account is found\n  'NO_SESSION_OR_ACCOUNT_FOUND',\n  // Found users info and signed in\n  'SIGNED_IN',\n  // Only storing progress locally\n  'OPTED_OUT',\n}\n\nexport interface AllProgress {\n  [key: string]: PuzProgress;\n}\n\nexport interface User {\n  id?: number;\n  first?: string;\n  last?: string;\n  pic?: string;\n  authId?: string;\n  email?: string;\n  progress?: AllProgress;\n}\n\nexport interface ProgressUpdate {\n  id: number;\n  goalsMet: number[];\n}\n\nexport interface ProgressMonitor {\n  progress: AllProgress;\n  open: boolean;\n  title: string;\n  message: string;\n  history: string;\n}\n","import { atom, selector } from 'recoil';\nimport { User, SignInStatus, AllProgress } from '../structs/user';\n\n// ATOMS ///////////////////////////////////////////////////////////////////////\n\nexport const signInState = atom({\n  key: 'signInState',\n  default: SignInStatus.CHECKING_FOR_SESSION,\n});\n\nexport const userInfo = atom({\n  key: 'userInfo',\n  default: {} as User,\n});\n\nexport const progress = atom({\n  key: 'progress',\n  default: {} as AllProgress,\n});\n\n// SELECTORS ///////////////////////////////////////////////////////////////////\n\nexport const starCount = selector({\n  key: 'starCount',\n  get: ({ get }) => {\n    const prog = get(progress);\n    let stars = 0;\n\n    Object.values(prog).forEach((progressArray) => {\n      // count TRUEs in each puzzles progress arr\n      stars += progressArray.filter((i) => !!i).length;\n    });\n\n    return stars;\n  },\n});\n","export enum RequestStatus {\n  'IN_PROGRESS',\n  'INACTIVE',\n  'FAILED',\n}\n\nexport enum SaveStatus {\n  'INACTIVE',\n  'IN_PROGRESS',\n}\n","import { atom, atomFamily } from 'recoil';\nimport { RequestStatus } from '../structs/request';\n\nexport const isModalOpen = atomFamily({\n  key: 'isModalOpen',\n  default: false,\n});\n\nexport const requestStatus = atomFamily({\n  key: 'requestStatus',\n  default: RequestStatus.INACTIVE,\n});\n\nexport const puzzleIsLoading = atom({\n  key: 'puzzleIsLoading',\n  default: false,\n});\n","import { AllProgress } from '../structs/user';\n\nexport default async function saveProgressToServer(progress: AllProgress) {\n  // Send progress to server and gets back merged progress. This could\n  // be different if the user has the app open on different devices\n  // So update local state with the merged progress that is returned from\n  // the server.\n  const res = await fetch('user/save-progress', {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/JSON',\n    },\n    body: JSON.stringify(progress),\n  });\n\n  if (res.status >= 400) {\n    console.error('Error saving user progress');\n    return progress;\n  } else {\n    const mergedProgressFromServer = await res.json();\n    return mergedProgressFromServer;\n  }\n}\n","import { SignInStatus } from '../structs/user';\nimport { useRecoilValue } from 'recoil';\nimport { signInState } from '../state/user';\nimport { useHistory } from 'react-router-dom';\nimport useCheckForUser from '../hooks/useCheckForUser';\n\nexport default function UserSignInMonitor() {\n  const signIn = useRecoilValue(signInState);\n  const history = useHistory();\n  const { location } = history;\n\n  // When site loads for the first time, check to see if the user has an active\n  // account + session\n  useCheckForUser();\n\n  // Redirect if needed\n  switch (signIn) {\n    case SignInStatus.CHECKING_FOR_SESSION:\n      break;\n    case SignInStatus.NO_SESSION_OR_ACCOUNT_FOUND:\n      if (location.pathname !== '/') history.push('/');\n      break;\n    case SignInStatus.SIGNED_IN:\n    case SignInStatus.OPTED_OUT:\n      if (location.pathname === '/') history.push('/level/1');\n  }\n\n  return null;\n}\n","import { RequestStatus } from '../structs/request';\nimport { SignInStatus } from '../structs/user';\nimport { useRecoilState, useSetRecoilState } from 'recoil';\nimport { progress, signInState, userInfo } from '../state/user';\nimport { requestStatus } from '../state/ui';\nimport saveProgressToServer from '../functions/saveProgressToServer';\n\nexport default async function useCheckForUser() {\n  const [reqStatus, setReqStatus] = useRecoilState(requestStatus('user/data'));\n  const [signIn, setSignIn] = useRecoilState(signInState);\n  const setUser = useSetRecoilState(userInfo);\n  const setProg = useSetRecoilState(progress);\n\n  // Don't check for user if already checking\n  // or if already checked previously\n  if (\n    reqStatus === RequestStatus.IN_PROGRESS ||\n    signIn !== SignInStatus.CHECKING_FOR_SESSION\n  ) {\n    return;\n  }\n\n  // Check server for active session and account\n  setReqStatus(RequestStatus.IN_PROGRESS);\n  const res = await fetch('/user/data');\n\n  if (res.status >= 400) {\n    setSignIn(SignInStatus.NO_SESSION_OR_ACCOUNT_FOUND);\n\n    if (res.status === 401) {\n      // User is not signed in\n      setReqStatus(RequestStatus.INACTIVE);\n    } else {\n      setReqStatus(RequestStatus.FAILED);\n    }\n\n    // Load progress from local storage\n    const prog = JSON.parse(window.localStorage.getItem('progress') || '{}');\n    setProg(prog);\n  } else {\n    // User found\n    const user = await res.json();\n    setSignIn(SignInStatus.SIGNED_IN);\n    setReqStatus(RequestStatus.INACTIVE);\n    setUser(user); // Load user info into state\n    setProg(user.progress);\n\n    /**\n     * When a user has local progress when they sign in, prompt to\n     * see if they want to save their local progress to their account.\n     *\n     * This is occurs when a user solves puzzles while opting out of sign in\n     * then decides to sign in or make an account.\n     */\n    const localProgress = JSON.parse(\n      window.localStorage.getItem('progress') || '{}'\n    );\n    const localPuzzlesWithEarnedStars = Object.keys(localProgress).length;\n\n    const hasProgressInLocalStorage = localPuzzlesWithEarnedStars > 0;\n\n    if (hasProgressInLocalStorage) {\n      const confirm = window.confirm(\n        `It looks like you solved ${localPuzzlesWithEarnedStars} puzzle${\n          localPuzzlesWithEarnedStars > 1 ? 's' : '' // make plural if needed\n        } before signing in. Do you want to save that progress to your account?`\n      );\n\n      if (confirm) {\n        const mergedProgFromServer = await saveProgressToServer(localProgress);\n        setProg(mergedProgFromServer);\n      }\n    }\n\n    window.localStorage.removeItem('progress');\n  }\n}\n","import { atom, selector } from 'recoil';\nimport { Puzzle } from '../structs/puzzle';\nimport { MonitorModal } from '../structs/ui';\nimport trackSuccess from '../functions/trackSuccess';\n\n// SHAPES //////////////////////////////////////////////////////////////////////\n\ninterface State {\n  val: number | string;\n  counts: number[];\n  historyString: string;\n}\n\n// ATOMS ///////////////////////////////////////////////////////////////////////\n\nexport const puzzle = atom({\n  key: 'puzzle',\n  //default: defaultPuzzle(),\n  default: null as Puzzle | null,\n});\n\nexport const puzzleStates = atom({\n  key: 'puzzleStates',\n  default: [] as State[],\n});\n\nexport const redoStates = atom({\n  key: 'redoStates',\n  default: [] as State[],\n});\n\n// SELECTORS ///////////////////////////////////////////////////////////////////\n\n/**\n * Loads the total number of stars in all puzzles\n */\nexport const totalStarsInAllPuzzles = selector({\n  key: 'totalStarsInAllPuzzles',\n  get: async () => {\n    const response = await fetch('/stats');\n\n    if (response.status >= 400) return null;\n\n    const starCount = response.json();\n    return starCount;\n  },\n});\n\n/**\n * Watches puzzle to see if user reaches block or target number. Sends request\n * to server if user reaches target.\n *\n * Returns an object with the info needed to form the modal\n */\nexport const monitorPuzzle = selector({\n  key: 'monitorPuzzle',\n  get: ({ get }): MonitorModal => {\n    const puz = get(puzzle);\n    const states = get(puzzleStates);\n    const closedModal = {\n      open: false,\n      title: '',\n      message: '',\n      history: '',\n    };\n\n    if (!puz || !states.length) return closedModal;\n\n    const moves = states.length - 1;\n    const currState = states[states.length - 1];\n    const currVal = currState.val;\n    const { target, blocks } = puz;\n\n    if (typeof currVal !== 'number') {\n      // Handle error messages\n      const [title, msg] = currVal.split(':');\n      return {\n        open: true,\n        title: title,\n        message: msg,\n        history: currState.historyString,\n      };\n    } else if (blocks.indexOf(currVal as number) !== -1) {\n      // Handle case where user reaches a block\n      return {\n        open: true,\n        title: `Blocked by ${currVal}!`,\n        message:\n          'You must reach to the target number while avoiding the blocks shown above the calculator screen.',\n        history: currState.historyString,\n      };\n    } else if (currVal === target) {\n      // Handle case where user reaches the target\n      const goalsMet: number[] = [];\n      puz.stars.forEach((s, i) => {\n        // Handle different goal possibilities\n        if (\n          !s.moves || // Handle goal with no move limit\n          (s.goalRelation === 'more' && moves > s.moves) ||\n          (s.goalRelation === 'exactly' && moves === s.moves) ||\n          (s.goalRelation === 'fewer' && moves <= s.moves)\n        ) {\n          goalsMet.push(i);\n        }\n      });\n\n      trackSuccess(puz.id, goalsMet);\n\n      return {\n        open: true,\n        title: 'Target Reached!',\n        message: `You solved this puzzle in ${moves} moves.`,\n        history: currState.historyString,\n      };\n    } else {\n      // Handle case where user isn't at the target or a block\n      return closedModal;\n    }\n  },\n});\n","import { TrackSuccess } from '../structs/track';\n\nexport default async function trackSuccess(\n  puzzleId: number,\n  goalsMet: number[]\n) {\n  const data: TrackSuccess = {\n    puzzleId,\n    goalsMet,\n  };\n\n  const res = await fetch('/track/success', {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/JSON',\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (res.status >= 400) {\n    const msg = await res.text();\n    console.error('RESPONSE:', msg);\n    return;\n  }\n\n  return await res.text();\n}\n","import { useHistory } from 'react-router-dom';\nimport { useRecoilValue, useRecoilState, useResetRecoilState } from 'recoil';\nimport { signInState, starCount, userInfo } from '../state/user';\nimport { isModalOpen } from '../state/ui';\nimport { Modal } from 'react-responsive-modal';\n\nimport 'react-responsive-modal/styles.css';\nimport './AccountModal.scss';\nimport { totalStarsInAllPuzzles } from '../state/puzzle';\n\nexport default function AccountModal() {\n  const [open, setOpen] = useRecoilState(isModalOpen('Account'));\n  const user = useRecoilValue(userInfo);\n  const userStars = useRecoilValue(starCount);\n  const totalStars = useRecoilValue(totalStarsInAllPuzzles);\n  const resetUser = useResetRecoilState(userInfo);\n  const resetIsSignedIn = useResetRecoilState(signInState);\n  const history = useHistory();\n\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  const onSignOut = async () => {\n    const res = await fetch('/auth/signout');\n\n    if (res.status === 200) {\n      setOpen(false);\n\n      // Reset user and sign in atoms\n      resetUser();\n      resetIsSignedIn();\n\n      history.push('/');\n    }\n  };\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      center\n      classNames={{\n        modal: 'account-modal__container',\n        closeButton: 'account-modal__close-btn',\n      }}\n    >\n      <div className=\"account-modal\">\n        <img\n          className=\"account-modal__img\"\n          alt={`${user.first}'s profile pic`}\n          src={user.pic}\n        />\n        <div className=\"account-modal__title\">{user.first}'s Account</div>\n        <div className=\"account-modal__body\">\n          <div className=\"account-modal__msg\">\n            Earned {((userStars / totalStars) * 100).toPrecision(3)}% of\n            <span className=\"account-modal__star\">★</span>\n          </div>\n          <button onClick={onSignOut} className=\"account-modal__btn\">\n            Sign Out\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { SignInStatus } from '../structs/user';\nimport { Suspense } from 'react';\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\nimport { isModalOpen } from '../state/ui';\nimport { signInState, userInfo } from '../state/user';\nimport AccountModal from './AccountModal';\n\nimport './UserAccount.scss';\n\nexport default function UserAccount() {\n  const setModal = useSetRecoilState(isModalOpen('Account'));\n  const signedIn = useRecoilValue(signInState);\n  const user = useRecoilValue(userInfo);\n\n  if (signedIn === SignInStatus.OPTED_OUT) {\n    return (\n      <a className=\"opted-out__btn\" href=\"/auth/google\">\n        Sign In\n      </a>\n    );\n  } else if (signedIn === SignInStatus.SIGNED_IN) {\n    return (\n      <>\n        <Suspense fallback={''}>\n          <AccountModal />\n        </Suspense>\n        <button className=\"signed-in__btn\" onClick={() => setModal(true)}>\n          <img\n            className=\"signed-in__img\"\n            alt={`${user.first}'s profile pic`}\n            src={user.pic}\n          />\n        </button>\n      </>\n    );\n  } else {\n    return null;\n  }\n}\n","import { Suspense } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { starCount } from '../state/user';\nimport { totalStarsInAllPuzzles } from '../state/puzzle';\n\nimport './index.scss';\nimport UserAccount from './UserAccount';\n\nfunction TotalStars() {\n  const totalStars = useRecoilValue(totalStarsInAllPuzzles);\n  return <span className=\"header__total-stars\">/ {totalStars}</span>;\n}\n\nexport function UnwrappedHeader() {\n  const userStars = useRecoilValue(starCount);\n\n  return (\n    <header className=\"header\">\n      <div>Bad Calculators</div>\n      <div className=\"header__right\">\n        <span className=\"header__star\"> ★</span>\n        {userStars}\n        <Suspense fallback={''}>\n          <TotalStars />\n        </Suspense>\n        <UserAccount />\n      </div>\n    </header>\n  );\n}\n\nexport default function Header() {\n  return (\n    <Suspense fallback={''}>\n      <UnwrappedHeader />\n    </Suspense>\n  );\n}\n","export interface TrackSuccess {\n  puzzleId: number;\n  goalsMet: number[];\n}\n\nexport interface TrackAttempt {\n  puzzleId: number;\n}\n\nexport enum TrackAttemptStatus {\n  'INACTIVE',\n  'IN_PROGRESS',\n}\n","import { atom } from 'recoil';\nimport { TrackAttemptStatus } from '../structs/track';\n\nexport const attemptStatus = atom({\n  key: 'attemptsStatus',\n  default: TrackAttemptStatus.INACTIVE,\n});\n\nexport const hasLoggedSuccessAndSaved = atom({\n  key: 'hasLoggedSuccessAndSaved',\n  default: false,\n});\n","export default function logGAPageView(title: string, path: string): void {\n  // Don't log page view if in development\n  if (window.location.hostname === 'localhost') {\n    return;\n  }\n\n  window.gtag('event', 'page_view', {\n    page_title: title,\n    page_location: `https://badcalculators/#${path}`,\n    page_path: path,\n    send_to: 'G-7F9CSHE3B6',\n  });\n}\n","import { Suspense } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { puzzle } from '../state/puzzle';\nimport { progress } from '../state/user';\n\nimport './Goals.scss';\n\nconst goalMap = {\n  exactly: '=',\n  fewer: '≤',\n  more: '>',\n};\n\nexport default function Goals() {\n  return (\n    <Suspense fallback=\"\">\n      <UnwrappedGoals />\n    </Suspense>\n  );\n}\n\nfunction UnwrappedGoals() {\n  const puz = useRecoilValue(puzzle);\n  const prog = useRecoilValue(progress);\n\n  // Don't render until a puzzle is loaded\n  if (!puz) return null;\n\n  const { stars } = puz;\n\n  const elems = stars.map((s, i) => {\n    // const hasMetGoal = !!usersCurPuzProgress[i];\n    let hasMetGoal = prog[puz.id] && prog[puz.id][i];\n\n    return (\n      <div key={i} className=\"goal\">\n        <div className=\"goal-desc\">\n          {s.moves && s.goalRelation\n            ? `${goalMap[s.goalRelation]}${s.moves}`\n            : '∞'}\n        </div>\n\n        <div\n          key={i}\n          className={`star-icon ${hasMetGoal ? 'star-success' : ''}`}\n        >\n          ★\n        </div>\n      </div>\n    );\n  });\n\n  return <div className=\"goal-list\">{elems}</div>;\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSetRecoilState, useRecoilState, useRecoilValue } from 'recoil';\nimport { puzzle, puzzleStates, monitorPuzzle } from '../state/puzzle';\nimport { Modal } from 'react-responsive-modal';\nimport Goals from './Goals';\nimport 'react-responsive-modal/styles.css';\nimport './ResolveModal.scss';\n\nexport default function ResolveModal() {\n  const history = useHistory();\n  const [puz, setPuz] = useRecoilState(puzzle);\n  const setPuzStates = useSetRecoilState(puzzleStates);\n  const monitor = useRecoilValue(monitorPuzzle);\n\n  const onClose = () => {\n    setPuzStates((prev) => prev.slice(0, 1));\n  };\n\n  const onBackToLvlClick = () => {\n    history.push(`/level/${puz!.level}`);\n    setPuz(null); // Reset to initial puzzle condition\n  };\n\n  return (\n    <Modal\n      open={monitor.open}\n      onClose={onClose}\n      center\n      closeOnOverlayClick={false}\n      classNames={{\n        modal: 'success-modal__container',\n        closeButton: 'success-modal__close-btn',\n      }}\n    >\n      <div className=\"success-modal\">\n        <div className=\"success-modal__title\">{monitor.title}</div>\n        <div className=\"success-modal__body\">\n          <div className=\"success-modal__msg-hist-container\">\n            <div className=\"success-modal__msg\">{monitor.message}</div>\n            <div className=\"success-modal__hist\">{monitor.history}</div>\n          </div>\n          <div className=\"success-modal__goals\">\n            <Goals />\n          </div>\n          <button onClick={onClose} className=\"success-modal__btn\">\n            Try Again\n          </button>\n          <button onClick={onBackToLvlClick} className=\"success-modal__btn\">\n            Level {puz!.level} Puzzles\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useRecoilValue } from 'recoil';\nimport { puzzleStates } from '../state/puzzle';\n\nimport './Screen.scss';\n\nexport default function Screen() {\n  const puzStates = useRecoilValue(puzzleStates);\n\n  const current = puzStates[puzStates.length - 1];\n  const { val, historyString } = current;\n\n  const screenDisplay = typeof val === 'number' ? val : 'Error';\n\n  return (\n    <div className=\"screen\">\n      <div className=\"screen__value\">{screenDisplay}</div>\n      <div className=\"screen__history\">{historyString}</div>\n    </div>\n  );\n}\n","import { useRecoilValue } from 'recoil';\nimport { puzzle } from '../state/puzzle';\n\nimport './Meta.scss';\n\nexport default function Meta() {\n  const puz = useRecoilValue(puzzle);\n\n  if (!puz) return <div></div>;\n\n  const blocks = puz.blocks.map((num) => (\n    <span key={num} className=\"meta__block\">\n      {' '}\n      &rarr; {num}{' '}\n    </span>\n  ));\n  const hasBlocks = !!blocks.length;\n\n  return (\n    <div className=\"meta\">\n      {puz.start} {hasBlocks && blocks}\n      &rarr; {puz.target} &#9873;\n    </div>\n  );\n}\n","import './CalcBtn.scss';\n\ninterface Props {\n  text: string;\n  usesLeft?: number;\n  onClick: () => void;\n  className?: string;\n}\n\nexport default function CalcBtn({\n  className = '',\n  onClick,\n  text,\n  usesLeft = Infinity,\n}: Props) {\n  const infinityCss =\n    usesLeft === Infinity ? 'calc-btn__uses-left--infinity' : '';\n\n  return (\n    <div\n      className={`calc-btn ${className} ${\n        !usesLeft ? 'calc-btn--disabled' : ''\n      }`}\n    >\n      <button\n        onClick={usesLeft !== 0 ? onClick : () => null}\n        className={`calc-btn__btn ${\n          !usesLeft ? 'calc-btn__btn--disabled' : ''\n        }`}\n      >\n        {text}\n      </button>\n      <div className={`calc-btn__uses-left ${infinityCss}`}>{usesLeft}</div>\n    </div>\n  );\n}\n","export interface Star {\n  moves: number;\n  goalRelation?: 'more' | 'fewer' | 'exactly';\n}\n\nexport enum OpType {\n  'add' = 'addition',\n  'sub' = 'subtraction',\n  'mult' = 'multiplication',\n  'div' = 'division',\n  'expo_power' = 'exponentiation with fixed power',\n  'expo_base' = 'exponentiation with fixed base',\n  'mod' = 'modulo',\n  'fact' = 'factorial',\n  'root' = 'root', // Not yet built\n  'floor' = 'floor', // Not yet built\n  'ceil' = 'ceiling', // Not yet built\n  'base' = 'base conversion',\n  'collatz' = 'collatz',\n  'recip' = 'reciprocal', // Not yet built\n  'abs' = 'absolute value',\n  'concat_front' = 'concatenate to front', // Not yet built\n  'concat_end' = 'concatenate to end', // Not yet built\n  'reverse' = 'reverse the digits',\n  'tet' = 'tetration', // Not yet built\n  'look_and_say' = 'look and say',\n}\n\nexport interface OpInfo {\n  symbol: OpType; // Has to be an OpType\n  value?: number;\n  limit?: number;\n}\n\nexport enum OpError {\n  'BASE_INVALID_DIGIT' = 'Invalid Digit: Converting bases resulted in a digit that was a letter instead of a number.',\n  'BASE_NON_INTEGERS' = 'Invalid Input: This calculator does not support converting non-integers between bases.',\n  'LOOK_AND_SAY_DECIMAL' = 'Invalid Input: Look and Say can only work with integers.',\n  'DIVIDE_BY_ZERO' = 'Undefined: Dividing by zero is undefined and cannot be processed by this Bad Calculator',\n}\n\nexport interface ProcessedOp {\n  text: string;\n  op: (prev: number) => number | OpError;\n  limit: number;\n}\n\nexport interface Puzzle {\n  id: number;\n  level: number;\n  indexInLevel: number;\n  disabled: boolean;\n  creator: string;\n  start: number;\n  target: number;\n  maxMoves: number | null;\n  operations: OpInfo[];\n  blocks: number[];\n  stars: Star[];\n  attemptCount?: number;\n  successCount?: number;\n  difficulty?: {\n    discrete: number;\n    ordinal: number;\n    raw: number;\n    countOfPuzzles: number;\n  };\n}\n\nexport interface Solution {\n  values: (number | string)[];\n  actions: string[];\n  opCounts: number[];\n}\n\nexport const defaultPuzzle = (): Puzzle | null => null;\n","import { OpType, OpInfo, ProcessedOp, OpError } from '../structs/puzzle';\n\n/**\n * Generates unary operations which are used to update the calculators screen\n */\nexport default function genOpBtnTextAndOp({\n  symbol,\n  // Some ops don't include another operand (like factorial)\n  // So assign default values to avoid annoying type checking in all others\n  value = 0,\n  limit = Infinity,\n}: OpInfo): ProcessedOp {\n  // Used to determine when to wrap in parentheses for readability\n  const isValNegative = value && value < 0;\n\n  // TODO: Add overflow error for when numbers have > 8 digits. Or something\n  // like that.\n\n  switch (symbol) {\n    case OpType.add: {\n      const op = (prev: number) => handleFloats(prev + value);\n      const text = isValNegative ? `+ (${value})` : `+ ${value}`;\n      return { text, op, limit };\n    }\n\n    case OpType.sub: {\n      const op = (prev: number) => handleFloats(prev - value);\n      const text = isValNegative ? `- (${value})` : `- ${value}`;\n      return { text, op, limit };\n    }\n\n    case OpType.mult: {\n      const op = (prev: number) => handleFloats(prev * value);\n      const text = isValNegative ? `× (${value})` : `× ${value}`;\n      return { text, op, limit };\n    }\n\n    case OpType.div: {\n      if (value === 0) {\n        throw new Error('Tried to divide by 0 in puzzle definition');\n      }\n\n      const op = (prev: number) => handleFloats(prev / value);\n      const text = isValNegative ? `÷ (${value})` : `÷ ${value}`;\n      return { text, op, limit };\n    }\n\n    case OpType.mod: {\n      if (value <= 0 || value % 1 !== 0) {\n        throw new Error(`Mod values must be whole numbers. You tried ${value}`);\n      }\n\n      const op = (prev: number) => handleFloats(prev % value);\n      const text = `mod ${value}`;\n      return { text, op, limit };\n    }\n\n    case OpType.reverse: {\n      const op = (prev: number) => {\n        if (prev === 0) return 0;\n\n        // Determine if negative and then remove negative for easier parsing\n        const isNegative = prev < 0;\n        if (isNegative) {\n          prev *= -1;\n        }\n\n        // Number is an integer\n        if (prev % 1 === 0) {\n          const rev = parseInt(prev.toString().split('').reverse().join(''));\n          return isNegative ? rev * -1 : rev;\n        }\n\n        // Number has no whole part\n        if (prev > 0 && prev < 1) {\n          const rev = parseFloat(\n            '.' + prev.toString().split('.')[1].split('').reverse().join('')\n          );\n          return isNegative ? rev * -1 : rev;\n        }\n\n        // Number has a whole and a decimal part\n        const numAsStr = prev.toString();\n        const decimalIdx = numAsStr.indexOf('.');\n        const revWithoutDecimal = numAsStr\n          .split('.')\n          .join('')\n          .split('')\n          .reverse()\n          .join('');\n        const rev = parseFloat(\n          revWithoutDecimal.slice(0, decimalIdx) +\n            '.' +\n            revWithoutDecimal.slice(decimalIdx)\n        );\n\n        return isNegative ? rev * -1 : rev;\n      };\n\n      const text = 'reverse';\n      return { text, op, limit };\n    }\n\n    case OpType.fact: {\n      const op = (prev: number) => {\n        // Only accept whole numbers and 0\n        if (prev < 0 || prev % 1 !== 0) return NaN;\n\n        let output = 1;\n        while (prev > 0) {\n          output *= prev--;\n        }\n\n        return output;\n      };\n\n      const text = 'n!';\n      return { text, op, limit };\n    }\n\n    case OpType.collatz: {\n      const op = (prev: number) => {\n        if (prev % 1 !== 0) return NaN; // Only accept integers\n\n        if (prev % 2 === 0) {\n          return prev / 2;\n        } else {\n          return 3 * prev + 1;\n        }\n      };\n\n      const text = 'collatz';\n      return { text, op, limit };\n    }\n\n    case OpType.base: {\n      if (value <= 0 || value % 1 !== 0) {\n        throw new Error(`Bases must be whole numbers. You tried ${value}`);\n      }\n\n      if (value > 36) {\n        throw new Error(`JS can't handle bases > 36. You tried ${value}`);\n      }\n\n      const op = (prev: number) => {\n        if (prev % 1 !== 0) return OpError.BASE_NON_INTEGERS;\n\n        const strInNewBase = prev.toString(value);\n\n        // Check if result includes a letter as a digit (from a base > 10)\n        if (strInNewBase.match(/[a-zA-Z]/)) {\n          return OpError.BASE_INVALID_DIGIT;\n        }\n\n        return parseInt(strInNewBase);\n      };\n\n      const text = `base ${value}`;\n      return { text, op, limit };\n    }\n\n    case OpType.expo_power: {\n      if (value % 1 !== 0) {\n        throw new Error(`Exponent must be an integer. You tried ${value}`);\n      }\n\n      const op = (prev: number) => {\n        return handleFloats(prev ** value);\n      };\n\n      const text = `n^${value}`;\n      return { text, op, limit };\n    }\n\n    case OpType.expo_base: {\n      const op = (prev: number) => {\n        if (value === 0 && prev < 0) {\n          return OpError.DIVIDE_BY_ZERO;\n        }\n\n        return handleFloats(value ** prev);\n      };\n\n      const text = `${value}^n`;\n      return { text, op, limit };\n    }\n\n    case OpType.look_and_say: {\n      const op = (prev: number) => {\n        if (prev % 1 !== 0) return OpError.LOOK_AND_SAY_DECIMAL;\n\n        const isNegative = prev < 0; // Note if number is negative\n        const arr = Math.abs(prev).toString().split(''); //Split by digit\n\n        // Group by repeated digits ( ex: 112223 -> ['111', '222', '3'] )\n        const a: string[] = [];\n        let prevDigit = '!!!!!!'; // Placeholder to ensure no matches\n        for (let i = 0; i < arr.length; i++) {\n          const currDigit = arr[i];\n\n          currDigit === prevDigit\n            ? (a[a.length - 1] += currDigit)\n            : a.push(currDigit);\n\n          prevDigit = currDigit;\n        }\n\n        // Condense group into 2-digits (count)(digit)\n        const result = parseInt(\n          a.map((group) => `${group.length}${group[0]}`).join(''),\n          10\n        );\n\n        return isNegative ? -1 * result : result;\n      };\n\n      const text = 'Look & Say';\n      return { text, op, limit };\n    }\n\n    default:\n      throw new Error(\n        'Invalid symbol passed in info.symbol of puzzle definition'\n      );\n  }\n}\n\n// Rounds numbers for precision\nfunction handleFloats(n: number) {\n  return parseFloat(n.toPrecision(8));\n}\n","import { OpInfo } from '../structs/puzzle';\nimport { useSetRecoilState, useRecoilState, useRecoilValue } from 'recoil';\nimport { redoStates, puzzleStates, puzzle } from '../state/puzzle';\nimport genOpBtnTextAndOp from '../calculatorFunctions/genOpBtnTextAndOp';\nimport CalcBtn from './CalcBtn';\nimport { progress, signInState } from '../state/user';\nimport { AllProgress, SignInStatus } from '../structs/user';\nimport mergeProgress from '../functions/mergeProgress';\nimport saveProgressToServer from '../functions/saveProgressToServer';\n\ninterface Props {\n  info: OpInfo;\n  index: number;\n}\n\nexport default function OpBtn({ info, index }: Props) {\n  const puz = useRecoilValue(puzzle);\n  const [puzStates, setPuzStates] = useRecoilState(puzzleStates);\n  const setRedoStates = useSetRecoilState(redoStates);\n  const [prog, setProg] = useRecoilState(progress);\n  const signIn = useRecoilValue(signInState);\n\n  const { text, op, limit } = genOpBtnTextAndOp(info);\n\n  // Add state to puzStates Stack\n  const handleClick = async () => {\n    // Don't allow user to click operation buttons if the current state is\n    // a string. Because if it is a string, it is an error msg\n    if (typeof puzStates[puzStates.length - 1].val !== 'number') return;\n\n    const nextVal = op(puzStates[puzStates.length - 1].val as number);\n\n    setPuzStates((prev) => {\n      const next = {\n        ...prev[prev.length - 1],\n        val: nextVal,\n        counts: [...prev[prev.length - 1].counts],\n        historyString: prev[prev.length - 1].historyString + ' ' + text,\n      };\n\n      // Increment the counter that tracks button presses\n      next.counts[index]++;\n\n      return [...prev, next];\n    });\n\n    // Clear future since you've gone down a new branch of the timeline\n    setRedoStates([]);\n\n    // Trigger save if reached target\n    if (puz && nextVal === puz.target) {\n      // Count moves made\n      const moves = puzStates.length;\n\n      // Determine stars earned\n      const goalsMet: number[] = [];\n      puz.stars.forEach((s, i) => {\n        // Handle different goal possibilities\n        if (\n          !s.moves || // Handle goal with no move limit\n          (s.goalRelation === 'more' && moves > s.moves) ||\n          (s.goalRelation === 'exactly' && moves === s.moves) ||\n          (s.goalRelation === 'fewer' && moves <= s.moves)\n        ) {\n          goalsMet.push(i);\n        }\n      });\n\n      // Update progress locally\n      const updatedLocalProg: AllProgress = { ...prog };\n\n      // Make new copy of the current puzzles array if it exists or generate\n      // a new array for it\n      if (updatedLocalProg[puz.id]) {\n        updatedLocalProg[puz.id] = [...prog[puz.id]];\n      } else {\n        updatedLocalProg[puz.id] = [];\n      }\n\n      goalsMet.forEach((goalIdx) => {\n        updatedLocalProg[puz.id][goalIdx] = true;\n      });\n\n      // Set state for updated local progress\n      setProg(updatedLocalProg);\n\n      if (signIn === SignInStatus.SIGNED_IN) {\n        // Save progress to server if the user is signed in\n        const mergedProgFromServer = await saveProgressToServer(\n          updatedLocalProg\n        );\n        // Update state with merged progress returned from the server\n        setProg(mergedProgFromServer);\n      } else if (signIn === SignInStatus.OPTED_OUT) {\n        // Save progress to localStorage if the user is not signed into an account\n        const store = window.localStorage;\n        const progressStringFromStore = store.getItem('progress') || '{}';\n        const progressFromStore = JSON.parse(progressStringFromStore);\n\n        const mergedProgress = mergeProgress(\n          updatedLocalProg,\n          progressFromStore\n        );\n\n        store.setItem('progress', JSON.stringify(mergedProgress));\n      }\n    }\n  };\n\n  const usesLeft = limit - puzStates[puzStates.length - 1].counts[index];\n\n  return <CalcBtn onClick={handleClick} text={text} usesLeft={usesLeft} />;\n}\n","import { AllProgress } from '../structs/user';\n\n/**\n * Receives two maps of User Progress and merges them.\n * Replacing values only where a nulls or falses has become a true.\n */\nexport default function mergeProgress(\n  newProg: AllProgress,\n  oldProg: AllProgress\n): AllProgress {\n  const returnProg: AllProgress = {}; // Update progress to PUT in DB and return\n\n  // Copy over all of oldProg\n  for (let key in oldProg) {\n    returnProg[key] = oldProg[key];\n  }\n\n  // Update oldProg with new prog\n  for (let key in newProg) {\n    if (!returnProg[key]) {\n      returnProg[key] = newProg[key];\n    } else {\n      // If any puzzles have been solved, they need to be converted to true in\n      // the returnProg. So iterate over each T/F/null value in each newProg key's arr\n      // If it's true, set the value in the returnProg to true\n      for (let i = 0; i < newProg[key].length; i++) {\n        if (returnProg[key][i] === undefined) {\n          returnProg[key][i] = null;\n        }\n\n        if (newProg[key][i] === true) {\n          returnProg[key][i] = true;\n        }\n      }\n    }\n  }\n\n  return returnProg;\n}\n","import { useRecoilValue, useRecoilState } from 'recoil';\nimport { redoStates, puzzle, puzzleStates } from '../state/puzzle';\n\nimport CalcBtn from './CalcBtn';\nimport OpBtn from './OpBtn';\n\nexport default function CalcFunctions() {\n  const puz = useRecoilValue(puzzle);\n  const [puzStates, setPuzStates] = useRecoilState(puzzleStates);\n  const [redo, setRedo] = useRecoilState(redoStates);\n\n  // Don't render until a puzzle is loaded\n  if (!puz) return null;\n\n  const handleReset = () => {\n    setPuzStates((prev) => prev.slice(0, 1));\n    setRedo([]);\n  };\n\n  const handleUndo = () => {\n    if (puzStates.length > 1) {\n      const stateToMoveToRedo = puzStates[puzStates.length - 1];\n      setPuzStates((prev) => prev.slice(0, prev.length - 1));\n      setRedo((prev) => [...prev, stateToMoveToRedo]);\n    }\n  };\n\n  const handleRedo = () => {\n    if (redo.length) {\n      const stateRestoredFromRedo = redo[redo.length - 1];\n      setPuzStates((prev) => [...prev, stateRestoredFromRedo]);\n      setRedo((prev) => prev.slice(0, redo.length - 1));\n    }\n  };\n\n  const listOfOpBtns = puz.operations.map((op, i) => (\n    <OpBtn key={i} index={i} info={op} />\n  ));\n\n  return (\n    <>\n      <div className=\"calc__functions\">{listOfOpBtns}</div>\n      <div className=\"calc__controls\">\n        <CalcBtn\n          className={'calc-btn--ctrl'}\n          onClick={handleUndo}\n          text=\"Undo\"\n        />\n        <CalcBtn\n          className={'calc-btn--ctrl'}\n          onClick={handleRedo}\n          text=\"Redo\"\n        />\n        <CalcBtn\n          className={'calc-btn--ctrl calc-btn--reset'}\n          onClick={handleReset}\n          text=\"Reset\"\n        />\n      </div>\n    </>\n  );\n}\n","import { Oval } from 'react-loader-spinner';\nimport './index.scss';\n\nexport default function Spinner() {\n  return (\n    <div className=\"spinner\">\n      <Oval height={75} width={75} />\n    </div>\n  );\n}\n","import { useRecoilValue } from 'recoil';\nimport { puzzleStates } from '../state/puzzle';\nimport './MoveCount.scss';\n\nexport default function MoveCount() {\n  const puzStates = useRecoilValue(puzzleStates);\n\n  return <div className=\"move-count\">Moves: {puzStates.length - 1}</div>;\n}\n","import ordinal from 'ordinal';\nimport { useRecoilValue } from 'recoil';\nimport { puzzle } from '../state/puzzle';\nimport './Difficulty.scss';\n\nexport default function Difficulty() {\n  const puz = useRecoilValue(puzzle);\n\n  if (!puz || !puz.difficulty) {\n    return <div className=\"difficulty\">More data needed 🤷‍♂️ </div>;\n  }\n\n  const emojiForLevel: { [key: number]: string } = {\n    '1': '😀',\n    '2': '🤨',\n    '3': '🤔',\n    '4': '😰',\n    '5': '😳',\n    '6': '😭',\n    '7': '🤯',\n  };\n\n  const emoji = emojiForLevel[puz.difficulty.discrete] || '🤷‍♂️';\n\n  return (\n    <div className=\"difficulty\">\n      <div>{puz.difficulty.raw.toFixed(2)} stars / attempt</div>\n      <div>\n        {ordinal(puz.difficulty.ordinal)} hardest {emoji}\n      </div>\n    </div>\n  );\n}\n","import { useRecoilValue } from 'recoil';\nimport { puzzle } from '../state/puzzle';\nimport { Link } from 'react-router-dom';\n\nexport default function LevelAndPuzzle() {\n  const puz = useRecoilValue(puzzle);\n\n  if (!puz) return null;\n\n  return (\n    <div className=\"level-and-puzzle\">\n      <div>\n        <Link to={`/level/${puz.level}`}>Back to Level {puz.level}</Link>\n      </div>\n      <div>\n        Puzzle: {puz.level}-{puz.indexInLevel}\n      </div>\n    </div>\n  );\n}\n","import { TrackAttemptStatus } from '../structs/track';\nimport { useEffect } from 'react';\nimport { useRecoilValue, useRecoilState, useSetRecoilState } from 'recoil';\nimport { useParams } from 'react-router-dom';\nimport { puzzle, puzzleStates } from '../state/puzzle';\nimport { isModalOpen } from '../state/ui';\nimport { attemptStatus } from '../state/track';\nimport useLoadPuzzle from '../hooks/useLoadPuzzle';\nimport logGAPageView from '../functions/logGAPageView';\nimport ResolveModal from './ResolveModal';\nimport trackAttempt from '../functions/trackAttempt';\nimport Screen from './Screen';\nimport Meta from './Meta';\nimport Goals from './Goals';\nimport CalcFunctions from './CalcFunctions';\nimport Spinner from '../Spinner';\nimport MoveCount from './MoveCount';\nimport Difficulty from './Difficulty';\nimport './index.scss';\nimport LevelAndPuzzle from './LevelAndPuzzle';\n\ninterface Params {\n  puz_id: string;\n}\n\nexport default function PuzzlePage() {\n  const puz = useRecoilValue(puzzle);\n  const puzStates = useRecoilValue(puzzleStates);\n  const [attempt, setAttempt] = useRecoilState(attemptStatus);\n  const setIsModalOpen = useSetRecoilState(isModalOpen('ResolvePuzzle'));\n  const { puz_id } = useParams<Params>();\n\n  useEffect(() => {\n    logGAPageView(`Puzzle ${puz_id}`, `/puzzle/${puz_id}`);\n  }, [puz_id]);\n\n  // Close modal if it is open when the component first mounts\n  // or when the puz_id changes\n  useEffect(() => {\n    setIsModalOpen(false);\n  }, [puz, setIsModalOpen]);\n\n  // Load the puzzle if it isn't yet loaded or loading\n  useLoadPuzzle(puz_id);\n\n  // Hide calculator until puzzle is loaded\n  if (!puz || !puzStates.length || puz_id !== puz.id.toString()) {\n    return <Spinner />;\n  }\n\n  // Checks if an attempt should be logged\n  if (attempt === TrackAttemptStatus.INACTIVE && puzStates.length === 3) {\n    setAttempt(TrackAttemptStatus.IN_PROGRESS);\n    trackAttempt(puz.id);\n  }\n\n  // Checks if attempt has concluded and Attempt Status should reset to inactive\n  if (attempt === TrackAttemptStatus.IN_PROGRESS && puzStates.length === 1) {\n    setAttempt(TrackAttemptStatus.INACTIVE);\n  }\n\n  return (\n    <div className=\"calc\">\n      <ResolveModal />\n      <div className=\"calc__above\">\n        <Goals />\n      </div>\n      <div className=\"calc__body\">\n        <Meta />\n        <Screen />\n        <MoveCount />\n        <CalcFunctions />\n      </div>\n      <div className=\"calc__below\">\n        <LevelAndPuzzle />\n        <Difficulty />\n      </div>\n    </div>\n  );\n}\n","import { Puzzle } from '../structs/puzzle';\nimport { useHistory } from 'react-router-dom';\nimport { useRecoilState, useSetRecoilState } from 'recoil';\nimport { puzzleIsLoading } from '../state/ui';\nimport { puzzle, puzzleStates } from '../state/puzzle';\n\nexport default async function useLoadPuzzle(id: string) {\n  const [puz, setPuz] = useRecoilState(puzzle);\n  const setPuzStates = useSetRecoilState(puzzleStates);\n  const [puzIsLoading, setPuzIsLoading] = useRecoilState(puzzleIsLoading);\n  const history = useHistory();\n\n  if (puzIsLoading) {\n    return;\n  }\n\n  // If there isn't a puzzle loaded or\n  // the current puzzle's id doesn't match the url param\n  // then load the correct puzzle\n  if (!puz || puz.id !== parseInt(id)) {\n    setPuzIsLoading(true);\n    const res = await fetch(`/puzzle/${id}`);\n\n    if (res.status >= 400) {\n      setPuzIsLoading(false);\n      history.push('/puzzle/0');\n    }\n\n    const currentPuz: Puzzle = await res.json();\n\n    setPuz(currentPuz); // Load puzzle into state\n    setPuzStates([\n      {\n        val: currentPuz.start,\n        counts: Array<number>(currentPuz.operations.length).fill(0),\n        // historyString: currentPuz.start.toString(),\n        historyString: '',\n      },\n    ]); // Load initial state\n\n    // // Check if the user has the details in the progress\n    // if (!user.progress[id]) {\n    //   // Generate star progress for this user\n    //   let initProgressCurrPuz: PuzProgress = Array<boolean>(\n    //     currentPuz.stars.length\n    //   ).fill(false);\n\n    //   setUser((prev) => ({\n    //     ...prev,\n    //     progress: {\n    //       ...prev.progress,\n    //       [id]: initProgressCurrPuz,\n    //     },\n    //   }));\n    // }\n\n    setPuzIsLoading(false);\n  }\n}\n","import { TrackAttempt } from '../structs/track';\n\nexport default async function trackAttempt(puzzleId: number) {\n  const data: TrackAttempt = {\n    puzzleId,\n  };\n\n  const res = await fetch('/track/attempt', {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/JSON',\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (res.status >= 400) {\n    const msg = await res.text();\n    console.error('RESPONSE:', msg);\n    return;\n  }\n\n  return await res.text();\n}\n","import { SignInStatus } from '../structs/user';\nimport { useEffect } from 'react';\nimport { useSetRecoilState } from 'recoil';\nimport { signInState } from '../state/user';\nimport logGAPageView from '../functions/logGAPageView';\nimport GoogleIcon from '../icons/google-g-transparent.png';\nimport './index.scss';\n\nexport default function LandingPage() {\n  const setSignInStatus = useSetRecoilState(signInState);\n\n  useEffect(() => {\n    logGAPageView('Landing Page', '/');\n  });\n\n  const handleSkipSignIn = () => {\n    setSignInStatus(SignInStatus.OPTED_OUT);\n  };\n\n  return (\n    <div className=\"background\">\n      <div className=\"centered\">\n        <div className=\"title-container\">\n          <h1 className=\"title\">Bad Calculators</h1>\n          <div className=\"subtitle\">Mathy puzzles on unhelpful devices</div>\n        </div>\n        <div className=\"login\">\n          <a href=\"/auth/google\" className=\"login__auth-btn\">\n            <img className=\"login__icon\" src={GoogleIcon} alt=\"Google G Icon\" />\n            Sign in with Google\n          </a>\n          <div className=\"spacer\" />\n          <button className=\"login__auth-btn\" onClick={handleSkipSignIn}>\n            Skip creating an account<sup className=\"accent-color\">*</sup>\n          </button>\n          <p className=\"note\">\n            <span className=\"accent-color\">*</span> You'll lose your progress if\n            you change devices, switch browsers, or clear your cookies.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { atom, selector } from 'recoil';\nimport { Level } from '../structs/level';\n\n// SHAPES //////////////////////////////////////////////////////////////////////\n\n// ATOMS ///////////////////////////////////////////////////////////////////////\n\nexport const levelId = atom({\n  key: 'levelId',\n  default: 1,\n});\n\n// SELECTORS ///////////////////////////////////////////////////////////////////\n\n/**\n * Loads level data from the API based on the levelID\n */\nexport const levelData = selector({\n  key: 'levelData',\n  get: async ({ get }) => {\n    const res = await fetch(`/level/${get(levelId)}`);\n\n    return (await res.json()) as Level;\n  },\n});\n","import { useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport {\n  useRecoilState,\n  useRecoilValue,\n  useRecoilValueLoadable,\n  useSetRecoilState,\n} from 'recoil';\nimport { levelData, levelId } from '../state/level';\nimport { progress } from '../state/user';\nimport logGAPageView from '../functions/logGAPageView';\nimport Spinner from '../Spinner';\nimport './index.scss';\n\ninterface Params {\n  level_id: string;\n}\n\nexport default function LevelPage() {\n  const lvlLoadable = useRecoilValueLoadable(levelData);\n  const setLvlId = useSetRecoilState(levelId);\n  const history = useHistory();\n\n  switch (lvlLoadable.state) {\n    case 'hasValue':\n      return <Level />;\n    case 'loading':\n      return <Spinner />;\n    case 'hasError':\n      setLvlId(1); // Reset to valid level ID\n      history.push('/');\n      return <div>Error. Redirecting.</div>; // Must return JSX but never shown\n  }\n}\n\nfunction Level() {\n  const [lvlId, setLvlId] = useRecoilState(levelId);\n  const lvl = useRecoilValue(levelData);\n  const prog = useRecoilValue(progress);\n  const { level_id } = useParams<Params>();\n  const history = useHistory();\n\n  useEffect(() => {\n    logGAPageView(`Level ${level_id}`, `/level/${level_id}`);\n  }, [level_id]);\n\n  if (lvlId !== parseInt(level_id)) {\n    setLvlId(parseInt(level_id));\n  }\n\n  const onPuzClick = (id: number): void => {\n    history.push(`/puzzle/${id}`);\n  };\n\n  const onLvlClick = (id: number): void => {\n    history.push(`/level/${id}`);\n  };\n\n  // Make stars that sit below puzzle buttons\n  const puzList = lvl.puzIndexes.map(({ id, stars }, i) => {\n    const starsEarnedByUser = prog[id]?.filter((i) => i).length || 0;\n    const starsForPuz = stars.length;\n\n    const starList: JSX.Element[] = [];\n\n    // Generate list of stars with classes based on whether the stars have\n    // been earned or not\n    for (let i = 0; i < starsForPuz; i++) {\n      if (i < starsEarnedByUser) {\n        starList.push(\n          <span key={i} className=\"lvl-page__star lvl-page__star--earned\">\n            ★\n          </span>\n        );\n      } else {\n        starList.push(\n          <span key={i} className=\"lvl-page__star\">\n            ★\n          </span>\n        );\n      }\n    }\n\n    return (\n      <div key={i} className=\"lvl-page__puz-and-star-wrapper\">\n        <button className=\"lvl-page__puzzle-btn\" onClick={() => onPuzClick(id)}>\n          {i + 1}\n        </button>\n        <div className=\"lvl-page__stars\">{starList}</div>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"lvl-page\">\n      <div className=\"lvl-page__header\">\n        <div className=\"lvl-page__title\">Level {lvl.id}</div>\n        <div className=\"lvl-page__desc\">{lvl.desc}</div>\n      </div>\n      <div className=\"lvl-page__list-of-puzzles\">{puzList}</div>\n      <div className=\"lvl-page__nav\">\n        <div className=\"lvl-page__left\">\n          {lvl.levelBelow && (\n            <button\n              className=\"lvl-page__level-btn\"\n              onClick={() => onLvlClick(lvl.levelBelow as number)}\n            >\n              Level {lvl.levelBelow}\n            </button>\n          )}\n        </div>\n        <div className=\"lvl-page__mid\"></div>\n        <div className=\"lvl-page__right\">\n          {lvl.levelAbove && (\n            <button\n              className=\"lvl-page__level-btn\"\n              onClick={() => onLvlClick(lvl.levelAbove as number)}\n            >\n              Level {lvl.levelAbove}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect } from 'react';\nimport logGAPageView from '../functions/logGAPageView';\nimport './index.scss';\n\nexport default function PrivacyPage() {\n  useEffect(() => {\n    logGAPageView('Privacy', '/privacy');\n  });\n\n  return (\n    <div className=\"privacy\">\n      <h2 className=\"privacy__title\">Privacy and Your Data</h2>\n      <p>\n        Bad Calculators uses data provided from other sites (like Google) to\n        create an account for you on BadCalculators.com. In doing so, we gain\n        access to your basic profile info such as your name, email, and profile\n        photo.\n      </p>\n      <p>\n        We use this data to identify you when you visit at different times or on\n        different devices and track your progress on the puzzles. Your data is\n        not sold, nor shared with anyone other than the developers of\n        BadCalculators.com.\n      </p>\n      <p>\n        We don't have a secret plan to sell ads or your data. We just like\n        making fun puzzles for you to solve.\n      </p>\n      <p>\n        In the future, we may opt to send an email to our users with feature\n        updates or other important information. We aren't fans of SPAM, so we'll\n        do our best to only do this if we have something worth sharing.\n      </p>\n      <p>\n        If this approach makes you uncomfortable, you are always welcome to work\n        on the puzzles without an account. We just won't be able to retain your\n        progress if your close or refresh your browser tab.\n      </p>\n    </div>\n  );\n}\n","import React from 'react';\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { RecoilRoot } from 'recoil';\nimport UserSignInMonitor from './UserSignInMonitor';\nimport Header from './Header';\nimport PuzzlePage from './PuzzlePage';\nimport LandingPage from './LandingPage';\nimport LevelPage from './LevelsPage';\nimport PrivacyPage from './PrivacyPage';\n\nfunction App() {\n  return (\n    <div>\n      <RecoilRoot>\n        <HashRouter>\n          <UserSignInMonitor />\n          <Switch>\n            <Route path=\"/puzzle/:puz_id\">\n              <Header />\n              <PuzzlePage />\n            </Route>\n\n            <Route path=\"/level/:level_id\">\n              <Header />\n              <LevelPage />\n            </Route>\n\n            <Route path=\"/build\">\n              <Header />\n            </Route>\n\n            <Route path=\"/privacy\">\n              <Header />\n              <PrivacyPage />\n            </Route>\n\n            <Route path=\"/\" component={LandingPage} />\n\n            {/* Redirect any malformed links to the landing page */}\n            <Redirect to=\"/\" />\n          </Switch>\n        </HashRouter>\n      </RecoilRoot>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"names":["SignInStatus","signInState","atom","key","default","CHECKING_FOR_SESSION","userInfo","progress","starCount","selector","get","_ref","prog","stars","Object","values","forEach","progressArray","filter","i","length","RequestStatus","isModalOpen","atomFamily","requestStatus","INACTIVE","puzzleIsLoading","async","saveProgressToServer","res","fetch","method","headers","body","JSON","stringify","status","console","error","json","UserSignInMonitor","signIn","useRecoilValue","history","useHistory","location","reqStatus","setReqStatus","useRecoilState","setSignIn","setUser","useSetRecoilState","setProg","IN_PROGRESS","NO_SESSION_OR_ACCOUNT_FOUND","FAILED","parse","window","localStorage","getItem","user","SIGNED_IN","localProgress","localPuzzlesWithEarnedStars","keys","confirm","concat","removeItem","useCheckForUser","pathname","push","OPTED_OUT","puzzle","puzzleStates","redoStates","totalStarsInAllPuzzles","response","monitorPuzzle","puz","states","closedModal","open","title","message","moves","currState","currVal","val","target","blocks","msg","split","historyString","indexOf","goalsMet","s","goalRelation","puzzleId","data","text","trackSuccess","id","AccountModal","setOpen","userStars","totalStars","resetUser","useResetRecoilState","resetIsSignedIn","_jsx","Modal","onClose","center","classNames","modal","closeButton","children","_jsxs","className","alt","first","src","pic","toPrecision","onClick","UserAccount","setModal","signedIn","href","_Fragment","Suspense","fallback","TotalStars","UnwrappedHeader","Header","TrackAttemptStatus","attemptStatus","logGAPageView","path","hostname","gtag","page_title","page_location","page_path","send_to","goalMap","exactly","fewer","more","Goals","UnwrappedGoals","elems","map","hasMetGoal","ResolveModal","setPuz","setPuzStates","monitor","prev","slice","closeOnOverlayClick","onBackToLvlClick","level","Screen","puzStates","current","screenDisplay","Meta","num","hasBlocks","start","CalcBtn","usesLeft","Infinity","infinityCss","OpType","OpError","handleFloats","n","parseFloat","OpBtn","info","index","setRedoStates","op","limit","symbol","value","isValNegative","add","sub","mult","div","Error","mod","reverse","isNegative","rev","parseInt","toString","join","numAsStr","decimalIdx","revWithoutDecimal","fact","NaN","output","collatz","base","BASE_NON_INTEGERS","strInNewBase","match","BASE_INVALID_DIGIT","expo_power","expo_base","DIVIDE_BY_ZERO","look_and_say","LOOK_AND_SAY_DECIMAL","arr","Math","abs","a","prevDigit","currDigit","result","group","genOpBtnTextAndOp","counts","nextVal","next","_objectSpread","updatedLocalProg","goalIdx","mergedProgFromServer","store","progressStringFromStore","progressFromStore","mergedProgress","newProg","oldProg","returnProg","undefined","mergeProgress","setItem","CalcFunctions","redo","setRedo","listOfOpBtns","operations","handleUndo","stateToMoveToRedo","handleRedo","stateRestoredFromRedo","handleReset","Spinner","Oval","height","width","MoveCount","Difficulty","difficulty","emoji","discrete","raw","toFixed","ordinal","LevelAndPuzzle","Link","to","indexInLevel","PuzzlePage","attempt","setAttempt","setIsModalOpen","puz_id","useParams","useEffect","puzIsLoading","setPuzIsLoading","currentPuz","Array","fill","useLoadPuzzle","trackAttempt","LandingPage","setSignInStatus","handleSkipSignIn","levelId","levelData","LevelPage","lvlLoadable","useRecoilValueLoadable","setLvlId","state","Level","lvlId","lvl","level_id","onLvlClick","puzList","puzIndexes","_prog$id","starsEarnedByUser","starsForPuz","starList","onPuzClick","desc","levelBelow","levelAbove","PrivacyPage","RecoilRoot","HashRouter","Switch","Route","component","Redirect","ReactDOM","React","App","document","getElementById"],"sourceRoot":""}